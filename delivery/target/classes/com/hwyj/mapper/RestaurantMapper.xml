<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">  
  
<mapper namespace="com.hwyj.mapper.RestaurantMapper">

	<resultMap type="com.hwyj.domain.ResVO" id="memberMap">
	<result property="RES_NAME" column="RES_NAME" />
	<result property="RES_ADDRESS"  column="RES_ADDRESS"/>
	<result property="RES_TEL" column="RES_TEL" />
	<result property="RES_MENU_EXPLAN" column="RES_MENU_EXPLAN" />
	</resultMap>
		
<!--  메뉴보기 -->
	<select id="readMenu" resultType="com.hwyj.domain.ResMenuVO">	
	select m_name, menu_name, menu_info, price from menu left outer join member on member.id=menu.id where menu.id=#{id}
	</select>
	
	<!-- 이미지저장 테스트 -->
	<insert id="saveImage" parameterType="java.util.Map">
		INSERT INTO testdb.img_table VALUES #({img})
	</insert>

	<!-- 메장등록 -->
	<insert id="insertres" parameterType="com.hwyj.domain.ResVO">
		INSERT INTO testdb.member
		(RES_CODE,RES_NAME,RES_INFO,DEL_PRICE,RES_DATE)
		VALUES 
		(#{RES_CODE},
		#{RES_NAME},
		#{RES_DATE},
		#{RES_INFO},
		#{DEL_PRICE})
	</insert>

</mapper>